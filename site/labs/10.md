# Лабораторна робота №10

## Мета роботи

1. Вивчити поняття "структура", "масиви структур" та "об'єднання"
2. Опанувати навички роботи зі структурами
3. Навчитися розробляти масиви структур та використовувати їх.

## Умова задачі

Створити масив структур. Кожна структура складається з таких елементів: факультет, курс, група, прізвища студентів, екзаменаційні оцінки. Реалізувати запити, визначивши:
- Факультет і курс, на якому середній бал не менше 3.5;
- Прізвища студентів, що не мають трійок і двійок;
- Факультет і групу, де найбільше відмінників.
Результати запитів вивести у вигляді таблиць.

## Аналіз задачі та теоретичні обґрунтування

Для виконання програми ми створюємо структуру `Student` та визначаємо такі її параметри як `Факультет`, `Курс`, `Група`, `Прізвище`, `Екзаменаційні оцінки`. При запиті користувача додати студента. користувач вводить відповідні значення параметрів до консолі, після чого лічильник кількості студентів збільшується на 1. Коли кількість студентів досягне максимальної, то програма видасть повідомлення про помилку. При запиті користувача вивести таблицю, то програма побудує таблицю відповідно до запиту користувача та заповнить її значеннями.

#### Основні етапи:
  - Створення структури `Student` та визначення її параметрів;
  - Додавання студента
  - Виведення таблиці відповідно до запиту користувача

## Алгоритм у вигляді блок-схеми

![](images/lab_10/scheme.png)

## Код програми

```cpp
#include <iostream>
#include <iomanip>
#include <cstring>
#include <Windows.h>

using namespace std;

const int MAX_INPUT = 50; // Максимальна кількість введених символів
const int MAX_STUDENTS = 100; // Максимальна кількість студентів

struct Student // Студент та його характеристики
{
    char faculty[MAX_INPUT]; // Факультет
    int course; // Курс
    int group; // Група
    char surname[MAX_INPUT]; // Прізвище
    float marks; // Оцінки
};

void introduction() // Вступна частина
{
    cout << "Лабораторна робота №10. Гусенко Владислав. ІПЗ-12. Завдання 4" << endl << endl;
    cout << "Створити масив структур. Кожна структура складається з таких елементів: факультет, курс, група, прізвища студентів, екзаменаційні оцінки" << endl;
    cout << "Реалізувати запити, визначивши:" << endl;
    cout << " - факультет і курс, на якому середній бал не менше 3.5;" << endl;
    cout << " - прізвища студентів, що не мають трійок і двійок;" << endl;
    cout << " - факультет і групу, де найбільше відмінників." << endl;
    cout << "Результати запитів вивести у вигляді таблиць" << endl << endl;
}

void createStudent(Student* array, int& students) // Створення студента
{
    if (students > MAX_STUDENTS)
    {
        cerr << "Масив заповнений, неможливо створити нових студентів" << endl;
    }

    // Введення факультета
    cout << "Введіть назву факультета: ";
    cin.ignore();
    cin.getline(array[students].faculty, sizeof(array[students].faculty));

    // Введення курсу
    cout << "Введіть номер курсу: ";
    cin >> array[students].course;

    // Введення групи
    cout << "Введіть номер групи: ";
    cin >> array[students].group;

    // Введення прізвища
    cout << "Введіть прізвище студента: ";
    cin.ignore();
    cin.getline(array[students].surname, sizeof(array[students].surname));

    // Введення оцінок
    float totalMarks = 0; // Сума балів
    const int markNum = 5; // Нехай студент має 5 оцінок

    for (int i = 0; i < markNum; i++)
    {
        float mark;
        cout << "Введіть оцінку з " << i + 1 << " екзамена: ";
        cin >> mark;

        while (mark < 1 || mark > 5) // Перевірка на дурня
        {
            cin.clear();
            cin.ignore();
            cerr << "Помилка. Оцінка виставляється в межах від 1 до 5. Спробуйте ще раз" << endl;
            cout << "Введіть оцінку з " << i + 1 << " екзамена: ";
            cin >> mark;
        }
        totalMarks += mark; // Збільшуємо суму балів

    }
        array[students].marks = totalMarks / markNum; // Середня оцінка

        students++; // Позначаємо, що було записано усі дані студента 
}

void findThreePointFive(Student* array, int students) // Пошук факультетів і курсів, де середній бал не менше 3.5
{
    // Виводимо таблицю з результатами запиту
    cout << "----------------------------------------" << endl;
    cout << "| " << setw(15) << left << "Факультет" << "| " << setw(5) << left << "Курс" << "| " << setw(13) << left << "Середній бал" << "|" << endl;
    cout << "----------------------------------------" << endl;

    // Перевірка кожного студента
    for (int i = 0; i < students; i++)
    {
        float totalMarks = array[i].marks; // Загальний середній бал

        float average = totalMarks / 1; // Середній бал (створено задля порівняння з 3.5)

        // Виводимо дані студентів з балом 3.5+
        if (average >= 3.5)
        {
            cout << "| " << setw(15) << left << array[i].faculty << "| " << setw(5) << left << array[i].course << "| " << setw(13) << left << fixed << setprecision(2) << average << "|" << endl;
            cout << "----------------------------------------" << endl;
        }
    }
}

void findNoTwoThree(Student* array, int students) // Пошук студентів що не мають 2 та 3
{
    // Виводимо таблицю з результатами запиту
    cout << "------------------" << endl;
    cout << "| " << setw(15) << left << "Студенти" << "|" << endl;
    cout << "------------------" << endl;

    // Виводимо дані студентів, що не мають 2 та 3
    for (int i = 0; i < students; i++)
    {
        if (array[i].marks > 3)
        {
            cout << "| " << setw(15) << left << array[i].surname << "|" << endl;
            cout << "------------------" << endl;
        }
    }
}

void findSmart(Student* array, int students) // Пошук факультетів та груп з найбільшою кількістю відмінників
{
    // Виводимо таблицю з результатами запиту
    cout << "--------------------------" << endl;
    cout << "| " << setw(15) << left << "Факультет" << "| " << setw(6) << left << "Група" << "|" << endl;
    cout << "--------------------------" << endl;

    bool found = false; // Чи знайдено відмінників

    for (int i = 0; i < students; i++)
    {
        float totalMarks = array[i].marks;
        float average = totalMarks / 1;

        if (average > 4.0)
        {
            found = true;
            cout << "| " << setw(15) << left << array[i].faculty << "| " << setw(6) << left << array[i].group << "|" << endl;
            cout << "--------------------------" << endl;
        }
    }

    if (!found)
    {
        cout << "Груп з відмінниками не знайдено" << endl;
    }
}


void menu() // Меню програми
{
    int students = 0; // Кількість студентів
    Student number[MAX_STUDENTS]; // Масив структури студентів

    int choice; // Вибір
    do
    {
        cout << "Меню програми:" << endl;
        cout << "1. Додати нового студента" << endl;
        cout << "2. Показати факультети та курси, де середній бал не менше 3.5" << endl;
        cout << "3. Показати прізвища студентів, що не мають трійок і двійок" << endl;
        cout << "4. Показати факультет і групу, де найбільше відмінників" << endl;
        cout << "5. Вихід з програми" << endl << endl;
        cout << "Оберіть операцію: ";

        cin >> choice;

        switch (choice)
        {
        case 1:
            createStudent(number, students);
            break;
        case 2:
            findThreePointFive(number, students);
            break;
        case 3:
            findNoTwoThree(number, students);
            break;
        case 4:
            findSmart(number, students);
            break;
        case 5:
            break;
        default:
            cerr << "Неправильний варіант. Спробуйте ще раз.\n";
        }
    } while (choice != 5);
}

int main() // Основна частина програми
{
	SetConsoleCP(1251);
	SetConsoleOutputCP(1251);

    introduction();
    menu();

	return 0;
}
```

## Результат виконання програми 

![](images/lab_10/result.png)

## Аналіз достовірності результатів

Для перевірки достовірності результатів створюємо студента на основі самого себе - факультет ІТ, 1 курс, 2 група, прізвище Гусенко, та оцінки 5, 5, 5, 4, 5. Обрані значення мають відповідати кожній з операцій для виведення таблиць.
![](images/lab_10/check1.png)

![](images/lab_10/check2.png)

![](images/lab_10/check3.png)
Як можна засвідчитися, програма видає коректні результати.

## Висновки 

Під час виконання лабораторної роботи №10 я опанував такі вміння:
- Вивчив поняття "структура", "масиви структур" та "об'єднання".
- Опанував навички роботи зі структурами.
- Навчився розробляти масиви структур та використовувати їх.
